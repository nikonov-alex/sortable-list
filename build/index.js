var e={182:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",s="[object Object]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[i]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d[a]=d["[object Map]"]=d["[object Number]"]=d[s]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;var u,f,p,h="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,v="object"==typeof self&&self&&self.Object===Object&&self,_=h||v||Function("return this")(),m=t&&!t.nodeType&&t,y=m&&e&&!e.nodeType&&e,g=y&&y.exports===m,b=g&&h.process,w=function(){try{return y&&y.require&&y.require("util").types||b&&b.binding&&b.binding("util")}catch(e){}}(),E=w&&w.isTypedArray,A=Array.prototype,S=Function.prototype,x=Object.prototype,j=_["__core-js_shared__"],O=S.toString,N=x.hasOwnProperty,C=(u=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",T=x.toString,k=O.call(Object),I=RegExp("^"+O.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=g?_.Buffer:void 0,P=_.Symbol,L=_.Uint8Array,U=(R&&R.allocUnsafe,f=Object.getPrototypeOf,p=Object,function(e){return f(p(e))}),M=Object.create,z=x.propertyIsEnumerable,H=A.splice,D=P?P.toStringTag:void 0,F=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),V=R?R.isBuffer:void 0,B=Math.max,q=Date.now,G=se(_,"Map"),W=se(Object,"create"),$=function(){function e(){}return function(t){if(!ge(t))return{};if(M)return M(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=this.__data__=new J(e);this.size=t.size}function Z(e,t,n){(void 0!==n&&!fe(e[t],n)||void 0===n&&!(t in e))&&te(e,t,n)}function Q(e,t,n){var r=e[t];N.call(e,t)&&fe(r,n)&&(void 0!==n||t in e)||te(e,t,n)}function ee(e,t){for(var n=e.length;n--;)if(fe(e[n][0],t))return n;return-1}function te(e,t,n){"__proto__"==t&&F?F(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}X.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},X.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X.prototype.get=function(e){var t=this.__data__;if(W){var n=t[e];return n===r?void 0:n}return N.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return W?void 0!==t[e]:N.call(t,e)},X.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=W&&void 0===t?r:t,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(e){var t=this.__data__,n=ee(t,e);return!(n<0||(n==t.length-1?t.pop():H.call(t,n,1),--this.size,0))},J.prototype.get=function(e){var t=this.__data__,n=ee(t,e);return n<0?void 0:t[n][1]},J.prototype.has=function(e){return ee(this.__data__,e)>-1},J.prototype.set=function(e,t){var n=this.__data__,r=ee(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(G||J),string:new X}},K.prototype.delete=function(e){var t=ae(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return ae(this,e).get(e)},K.prototype.has=function(e){return ae(this,e).has(e)},K.prototype.set=function(e,t){var n=ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new J,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof J){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(e,t),this.size=n.size,this};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":D&&D in Object(e)?function(e){var t=N.call(e,D),n=e[D];try{e[D]=void 0;var r=!0}catch(e){}var o=T.call(e);return r&&(t?e[D]=n:delete e[D]),o}(e):function(e){return T.call(e)}(e)}function re(e){return be(e)&&ne(e)==i}function oe(e,t,n,r,o){e!==t&&function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}}(t,(function(i,a){if(o||(o=new Y),ge(i))!function(e,t,n,r,o,i,a){var l=de(e,n),c=de(t,n),d=a.get(c);if(d)Z(e,n,d);else{var u,f,p,h,v,_=i?i(l,c,n+"",e,t,a):void 0,m=void 0===_;if(m){var y=he(c),g=!y&&_e(c),b=!y&&!g&&we(c);_=c,y||g||b?he(l)?_=l:be(v=l)&&ve(v)?_=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(l):g?(m=!1,_=function(e){return e.slice()}(c)):b?(m=!1,h=new(p=(u=c).buffer).constructor(p.byteLength),new L(h).set(new L(p)),f=h,_=new u.constructor(f,u.byteOffset,u.length)):_=[]:function(e){if(!be(e)||ne(e)!=s)return!1;var t=U(e);if(null===t)return!0;var n=N.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==k}(c)||pe(c)?(_=l,pe(l)?_=function(e){return function(e,t,n){var r=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=void 0;void 0===s&&(s=e[a]),r?te(n,a,s):Q(n,a,s)}return n}(e,Ee(e))}(l):ge(l)&&!me(l)||(_=function(e){return"function"!=typeof e.constructor||ce(e)?{}:$(U(e))}(c))):m=!1}m&&(a.set(c,_),o(_,c,r,i,a),a.delete(c)),Z(e,n,_)}}(e,t,a,n,oe,r,o);else{var l=r?r(de(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),Z(e,a,l)}}),Ee)}var ie=F?function(e,t){return F(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:xe;function ae(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ge(e)||function(e){return!!C&&C in e}(e))&&(me(e)?I:l).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function le(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&c.test(e))&&e>-1&&e%1==0&&e<t}function ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||x)}function de(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ue=function(e){var t=0,n=0;return function(){var r=q(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ie);function fe(e,t){return e===t||e!=e&&t!=t}var pe=re(function(){return arguments}())?re:function(e){return be(e)&&N.call(e,"callee")&&!z.call(e,"callee")},he=Array.isArray;function ve(e){return null!=e&&ye(e.length)&&!me(e)}var _e=V||function(){return!1};function me(e){if(!ge(e))return!1;var t=ne(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==typeof e}var we=E?function(e){return function(t){return e(t)}}(E):function(e){return be(e)&&ye(e.length)&&!!d[ne(e)]};function Ee(e){return ve(e)?function(e,t){var n=he(e),r=!n&&pe(e),o=!n&&!r&&_e(e),i=!n&&!r&&!o&&we(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!N.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||le(c,l))||s.push(c);return s}(e,!0):function(e){if(!ge(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ce(e),n=[];for(var r in e)("constructor"!=r||!t&&N.call(e,r))&&n.push(r);return n}(e)}var Ae,Se=(Ae=function(e,t,n){oe(e,t,n)},function(e,t){return ue(function(e,t,n){return t=B(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=B(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,xe),e+"")}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Ae.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!ge(n))return!1;var r=typeof t;return!!("number"==r?ve(n)&&le(t,n.length):"string"==r&&t in n)&&fe(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Ae(e,a,n)}return e})));function xe(e){return e}e.exports=Se}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,n),i.loaded=!0,i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};n.r(r),n.d(r,{addItem:()=>Pe,getActionElement:()=>Te,getActionIndex:()=>ke,getEventItem:()=>Le,getItem:()=>Ie,getItemElement:()=>Oe,getItemIndex:()=>Ne,isActionClick:()=>Ce,isItemEvent:()=>xe,updateItem:()=>Re});const o=Object.keys;function i(e){return"string"==typeof e}function a(e){return"number"==typeof e}function s(e){return"object"==typeof e?null!==e:l(e)}function l(e){return"function"==typeof e}function c(e,t){if(e)for(const n of o(e))t(e[n],n)}const d={animationIterationCount:0,borderImageOutset:0,borderImageSlice:0,borderImageWidth:0,boxFlex:0,boxFlexGroup:0,boxOrdinalGroup:0,columnCount:0,columns:0,flex:0,flexGrow:0,flexPositive:0,flexShrink:0,flexNegative:0,flexOrder:0,gridArea:0,gridRow:0,gridRowEnd:0,gridRowSpan:0,gridRowStart:0,gridColumn:0,gridColumnEnd:0,gridColumnSpan:0,gridColumnStart:0,fontWeight:0,lineClamp:0,lineHeight:0,opacity:0,order:0,orphans:0,tabSize:0,widows:0,zIndex:0,zoom:0,fillOpacity:0,floodOpacity:0,stopOpacity:0,strokeDasharray:0,strokeDashoffset:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0},u=["Webkit","ms","Moz","O"];o(d).forEach((e=>{u.forEach((t=>{d[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=0}))}));const f=Symbol.for("jsx-dom:type");var p=function(e){return e.ShadowRoot="ShadowRoot",e}(p||{});function h(e){return!("boolean"==typeof e||null==e)}function v(e){return Array.isArray(e)?e.map(v).filter(Boolean).join(" "):s(e)?Symbol.iterator in e?v(Array.from(e)):o(e).filter((t=>e[t])).join(" "):h(e)?""+e:""}const _={animate:0,circle:0,clipPath:0,defs:0,desc:0,ellipse:0,feBlend:0,feColorMatrix:0,feComponentTransfer:0,feComposite:0,feConvolveMatrix:0,feDiffuseLighting:0,feDisplacementMap:0,feDistantLight:0,feFlood:0,feFuncA:0,feFuncB:0,feFuncG:0,feFuncR:0,feGaussianBlur:0,feImage:0,feMerge:0,feMergeNode:0,feMorphology:0,feOffset:0,fePointLight:0,feSpecularLighting:0,feSpotLight:0,feTile:0,feTurbulence:0,filter:0,foreignObject:0,g:0,image:0,line:0,linearGradient:0,marker:0,mask:0,metadata:0,path:0,pattern:0,polygon:0,polyline:0,radialGradient:0,rect:0,stop:0,svg:0,switch:0,symbol:0,text:0,textPath:0,tspan:0,use:0,view:0},m=/^(a(ll|t|u)|base[FP]|c(al|lipPathU|on)|di|ed|ex|filter[RU]|g(lyphR|r)|ke|l(en|im)|ma(rker[HUW]|s)|n|pat|pr|point[^e]|re[^n]|s[puy]|st[^or]|ta|textL|vi|xC|y|z)/;function y(e,t){let n,{children:r,...a}=t;if(a.namespaceURI||0!==_[e]||(a={...a,namespaceURI:"http://www.w3.org/2000/svg"}),i(e)){if(n=a.namespaceURI?document.createElementNS(a.namespaceURI,e):document.createElement(e),function(e,t){for(const n of o(e))S(n,e[n],t)}(a,n),b(r,n),n instanceof window.HTMLSelectElement&&null!=a.value)if(!0===a.multiple&&Array.isArray(a.value)){const e=a.value.map((e=>String(e)));n.querySelectorAll("option").forEach((t=>t.selected=e.includes(t.value)))}else n.value=a.value;g(a.ref,n)}else{if(!l(e))throw new TypeError(`Invalid JSX element type: ${e}`);s(e.defaultProps)&&(a={...e.defaultProps,...a}),n=(c=e)&&c.isComponent?function(e,t,n){const r=new e(t={...t,children:n}),o=r.render();return"ref"in t&&g(t.ref,r),o}(e,a,r):e({...a,children:r})}var c;return n}function g(e,t){var n;s(n=e)&&"current"in n?e.current=t:l(e)&&e(t)}function b(e,t){if(s(o=e)&&"number"==typeof o.length&&"number"!=typeof o.nodeType)!function(e,t){for(const n of[...e])b(n,t)}(e,t);else if(i(e)||a(e))w(document.createTextNode(e),t);else if(null===e)w(document.createComment(""),t);else if((r=e)&&"number"==typeof r.nodeType)w(e,t);else if(null!=(n=e)&&n[f]===p.ShadowRoot){const n=t.attachShadow(e.attr);b(e.children,n),g(e.ref,n)}var n,r,o}function w(e,t){t instanceof window.HTMLTemplateElement?t.content.appendChild(e):t.appendChild(e)}function E(e,t){return e.replace(/[A-Z]/g,(e=>t+e.toLowerCase()))}function A(e,t){null==t||!1===t||(Array.isArray(t)?t.forEach((t=>A(e,t))):i(t)?e.setAttribute("style",t):s(t)&&c(t,((t,n)=>{0===n.indexOf("-")?e.style.setProperty(n,t):a(t)&&0!==d[n]?e.style[n]=t+"px":e.style[n]=t})))}function S(e,t,n){switch(e){case"xlinkActuate":case"xlinkArcrole":case"xlinkHref":case"xlinkRole":case"xlinkShow":case"xlinkTitle":case"xlinkType":return void j(n,"http://www.w3.org/1999/xlink",E(e,":"),t);case"xmlnsXlink":return void x(n,E(e,":"),t);case"xmlBase":case"xmlLang":case"xmlSpace":return void j(n,"http://www.w3.org/XML/1998/namespace",E(e,":"),t)}switch(e){case"htmlFor":return void x(n,"for",t);case"dataset":return void c(t,((e,t)=>{null!=e&&(n.dataset[t]=e)}));case"innerHTML":case"innerText":case"textContent":return void(h(t)&&(n[e]=t));case"dangerouslySetInnerHTML":return void(s(t)&&(n.innerHTML=t.__html));case"value":if(null==t||n instanceof window.HTMLSelectElement)return;if(n instanceof window.HTMLTextAreaElement)return void(n.value=t);break;case"spellCheck":return void(n.spellcheck=t);case"class":case"className":return void(l(t)?t(n):x(n,"class",v(t)));case"ref":case"namespaceURI":return;case"style":return void A(n,t);case"on":case"onCapture":return void c(t,((t,r)=>{n.addEventListener(r,t,"onCapture"===e)}))}if(l(t)){if("o"===e[0]&&"n"===e[1]){let r=e.toLowerCase();const o=r.endsWith("capture");if("ondoubleclick"===r?r="ondblclick":o&&"ondoubleclickcapture"===r&&(r="ondblclickcapture"),o||null!==n[r])if(o)n.addEventListener(r.substring(2,r.length-7),t,!0);else{let o;o=r in window?r.substring(2):r[2]+e.slice(3),n.addEventListener(o,t)}else n[r]=t}}else s(t)?n[e]=t:!0===t?x(n,e,""):!1!==t&&null!=t&&(n instanceof SVGElement&&!m.test(e)?x(n,E(e,"-"),t):x(n,e,t))}function x(e,t,n){e.setAttribute(t,n)}function j(e,t,n,r){e.setAttributeNS(t,n,r)}var O,N={d:(e,t)=>{for(var n in t)N.o(t,n)&&!N.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},C={};N.d(C,{ZU:()=>X,L8:()=>J,wk:()=>K,R9:()=>Y});var T="undefined"==typeof document?void 0:document,k=!!T&&"content"in T.createElement("template"),I=!!T&&T.createRange&&"createContextualFragment"in T.createRange();function R(e,t){var n,r,o=e.nodeName,i=t.nodeName;return o===i||(n=o.charCodeAt(0),r=i.charCodeAt(0),n<=90&&r>=97?o===i.toUpperCase():r<=90&&n>=97&&i===o.toUpperCase())}function P(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var L={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();"OPTGROUP"===r&&(r=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==r||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}P(e,t,"selected")},INPUT:function(e,t){P(e,t,"checked"),P(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var o=r.nodeValue;if(o==n||!n&&o==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,r,o=-1,i=0,a=e.firstChild;a;)if("OPTGROUP"===(r=a.nodeName&&a.nodeName.toUpperCase()))a=(n=a).firstChild;else{if("OPTION"===r){if(a.hasAttribute("selected")){o=i;break}i++}!(a=a.nextSibling)&&n&&(a=n.nextSibling,n=null)}e.selectedIndex=o}}};function U(){}function M(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}const z=function(e,t,n){if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName){var r=t;(t=T.createElement("html")).innerHTML=r}else o=(o=t).trim(),t=k?function(e){var t=T.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(o):I?function(e){return O||(O=T.createRange()).selectNode(T.body),O.createContextualFragment(e).childNodes[0]}(o):function(e){var t=T.createElement("body");return t.innerHTML=e,t.childNodes[0]}(o);else 11===t.nodeType&&(t=t.firstElementChild);var o,i=n.getNodeKey||M,a=n.onBeforeNodeAdded||U,s=n.onNodeAdded||U,l=n.onBeforeElUpdated||U,c=n.onElUpdated||U,d=n.onBeforeNodeDiscarded||U,u=n.onNodeDiscarded||U,f=n.onBeforeElChildrenUpdated||U,p=n.skipFromChildren||U,h=n.addChild||function(e,t){return e.appendChild(t)},v=!0===n.childrenOnly,_=Object.create(null),m=[];function y(e){m.push(e)}function g(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var r=void 0;t&&(r=i(n))?y(r):(u(n),n.firstChild&&g(n,t)),n=n.nextSibling}}function b(e,t,n){!1!==d(e)&&(t&&t.removeChild(e),u(e),g(e,n))}function w(e){if(1===e.nodeType||11===e.nodeType)for(var t=e.firstChild;t;){var n=i(t);n&&(_[n]=t),w(t),t=t.nextSibling}}function E(e){s(e);for(var t=e.firstChild;t;){var n=t.nextSibling,r=i(t);if(r){var o=_[r];o&&R(t,o)?(t.parentNode.replaceChild(o,t),A(o,t)):E(t)}else E(t);t=n}}function A(e,t,n){var r=i(t);if(r&&delete _[r],!n){var o=l(e,t);if(!1===o)return;if(o instanceof HTMLElement&&w(e=o),function(e,t){var n,r,o,i,a=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var s=a.length-1;s>=0;s--)r=(n=a[s]).name,o=n.namespaceURI,i=n.value,o?(r=n.localName||r,e.getAttributeNS(o,r)!==i&&("xmlns"===n.prefix&&(r=n.name),e.setAttributeNS(o,r,i))):e.getAttribute(r)!==i&&e.setAttribute(r,i);for(var l=e.attributes,c=l.length-1;c>=0;c--)r=(n=l[c]).name,(o=n.namespaceURI)?(r=n.localName||r,t.hasAttributeNS(o,r)||e.removeAttributeNS(o,r)):t.hasAttribute(r)||e.removeAttribute(r)}}(e,t),c(e),!1===f(e,t))return}"TEXTAREA"!==e.nodeName?function(e,t){var n,r,o,s,l,c=p(e,t),d=t.firstChild,u=e.firstChild;e:for(;d;){for(s=d.nextSibling,n=i(d);!c&&u;){if(o=u.nextSibling,d.isSameNode&&d.isSameNode(u)){d=s,u=o;continue e}r=i(u);var f=u.nodeType,v=void 0;if(f===d.nodeType&&(1===f?(n?n!==r&&((l=_[n])?o===l?v=!1:(e.insertBefore(l,u),r?y(r):b(u,e,!0),r=i(u=l)):v=!1):r&&(v=!1),(v=!1!==v&&R(u,d))&&A(u,d)):3!==f&&8!=f||(v=!0,u.nodeValue!==d.nodeValue&&(u.nodeValue=d.nodeValue))),v){d=s,u=o;continue e}r?y(r):b(u,e,!0),u=o}if(n&&(l=_[n])&&R(l,d))c||h(e,l),A(l,d);else{var m=a(d);!1!==m&&(m&&(d=m),d.actualize&&(d=d.actualize(e.ownerDocument||T)),h(e,d),E(d))}d=s,u=o}!function(e,t,n){for(;t;){var r=t.nextSibling;(n=i(t))?y(n):b(t,e,!0),t=r}}(e,u,r);var g=L[e.nodeName];g&&g(e,t)}(e,t):L.TEXTAREA(e,t)}w(e);var S,x,j=e,N=j.nodeType,C=t.nodeType;if(!v)if(1===N)1===C?R(e,t)||(u(e),j=function(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}(e,(S=t.nodeName,(x=t.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==x?T.createElementNS(x,S):T.createElement(S)))):j=t;else if(3===N||8===N){if(C===N)return j.nodeValue!==t.nodeValue&&(j.nodeValue=t.nodeValue),j;j=t}if(j===t)u(e);else{if(t.isSameNode&&t.isSameNode(j))return;if(A(j,t,v),m)for(var P=0,z=m.length;P<z;P++){var H=_[m[P]];H&&b(H,H.parentNode,!1)}}return!v&&j!==e&&e.parentNode&&(j.actualize&&(j=j.actualize(e.ownerDocument||T)),e.parentNode.replaceChild(j,e)),j},H={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let D;const F=new Uint8Array(16);function V(){if(!D){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D=crypto.getRandomValues.bind(crypto)}return D(F)}const B=[];for(let e=0;e<256;++e)B.push((e+256).toString(16).slice(1));const q=function(e,t,n){if(H.randomUUID&&!t&&!e)return H.randomUUID();const r=(e=e||{}).random||(e.rng||V)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(B[e[t+0]]+B[e[t+1]]+B[e[t+2]]+B[e[t+3]]+"-"+B[e[t+4]]+B[e[t+5]]+"-"+B[e[t+6]]+B[e[t+7]]+"-"+B[e[t+8]]+B[e[t+9]]+"-"+B[e[t+10]]+B[e[t+11]]+B[e[t+12]]+B[e[t+13]]+B[e[t+14]]+B[e[t+15]]).toLowerCase()}(r)};class G extends HTMLElement{}customElements.define("reactor-viewport",G);class W{_id;_state;_render;_viewport;_container;_root;_emit=new Map;_http=new Map;_globalEvents=new Map;_localEvents=new Map;_selfEvents=new Map;_documentEvents=new Map;_debug;_resizeObserver;_resizeUserHandler;_dommode;_validation;_deferredRedraw=!1;constructor(e){this._id=q(),this._state=e.initialState,this._render="render"in e?e.render:e.display,this._viewport=document.createElement("reactor-viewport"),this._viewport.classList.add("viewport"),this._viewport.dataset.id=this._id,e.id&&(this._viewport.id=e.id),this._dommode=e.dommode||"shadow";const t="shadow"===this._dommode?this._viewport.attachShadow({mode:"closed",clonable:!0,delegatesFocus:!0}):this._viewport;if(this._container=e.container?e.container:document.createElement("div"),t.appendChild(this._container),this._root=this._render(this._state),this._container.appendChild(this._root),e.styles&&(t instanceof ShadowRoot?t.adoptedStyleSheets.push(e.styles):document.adoptedStyleSheets.push(e.styles)),this._debug=!!e.debug,this._debug&&console.log("nikonov-components: create reactor with options",e),this._globalEventHandler=this._globalEventHandler.bind(this),this._documentEventHandler=this._documentEventHandler.bind(this),this._localEventHandler=this._localEventHandler.bind(this),this._selfEventHandler=this._selfEventHandler.bind(this),this._resizeHandler=this._resizeHandler.bind(this),e.events)for(const t in e.events)if(Object.hasOwn(e.events,t)){const n=e.events[t];"function"==typeof n?this._localEvents.set(t,{handler:n}):Object.hasOwn(n,"target")&&"local"!==n.target?"self"===n.target?this._selfEvents.set(t,{handler:n.handler,options:n.options,stopPropagation:n.stopPropagation,preventDefault:n.preventDefault}):"window"===n.target?this._globalEvents.set(t,{handler:n.handler,options:n.options,stopPropagation:n.stopPropagation,preventDefault:n.preventDefault}):this._documentEvents.set(t,{handler:n.handler,options:n.options,stopPropagation:n.stopPropagation,preventDefault:n.preventDefault}):this._localEvents.set(t,{handler:n.handler,options:n.options,stopPropagation:n.stopPropagation,preventDefault:n.preventDefault})}if(e.emit)for(const t of e.emit)this._emit.set(t.when,new Set(Array.isArray(t.emit)?t.emit:[t.emit]));if(e.http)for(const t of e.http)this._http.set(t.when,new Set(Array.isArray(t.send)?t.send:[t.send]));for(const e of this._localEvents.keys())this._container.addEventListener(e,this._localEventHandler,this._localEvents.get(e).options||!0);for(const e of this._selfEvents.keys())this._viewport.addEventListener(e,this._selfEventHandler,this._selfEvents.get(e).options||!0);for(const e of this._globalEvents.keys())window.addEventListener(e,this._globalEventHandler,this._globalEvents.get(e).options||!0);for(const e of this._documentEvents.keys())this._container.ownerDocument.addEventListener(e,this._documentEventHandler,this._documentEvents.get(e).options||!0);e.onResize&&(this._resizeUserHandler=e.onResize,this._resizeObserver=new ResizeObserver(this._resizeHandler),this._resizeObserver.observe(this._viewport)),this._sendRequests(null),this._validation=e.validation,this._maybeValidate()}destructor(){for(const e of this._localEvents.keys())this._container.removeEventListener(e,this._localEventHandler,this._localEvents.get(e).options||!0);for(const e of this._selfEvents.keys())this._viewport.removeEventListener(e,this._selfEventHandler,this._selfEvents.get(e).options||!0);for(const e of this._globalEvents.keys())window.removeEventListener(e,this._globalEventHandler,this._globalEvents.get(e).options||!0);for(const e of this._documentEvents.keys())this._container.ownerDocument.removeEventListener(e,this._documentEventHandler,this._documentEvents.get(e).options||!0);this._resizeObserver&&this._resizeObserver.unobserve(this._viewport)}_maybeValidate(){if(this._validation){const[e,t]=this._validation.validate(this._state);this._validityDiffers(e)&&this._validation.internals.setValidity(e,t),this._validation.internals.setFormValue(this._validation.formValue(this._state))}}_validityDiffers(e){const t=this._validation.internals.validity;return t.valueMissing!==(e.valueMissing??!1)||t.stepMismatch!==(e.stepMismatch??!1)||t.badInput!==(e.badInput??!1)||t.customError!==(e.customError??!1)||t.patternMismatch!==(e.patternMismatch??!1)||t.rangeOverflow!==(e.rangeOverflow??!1)||t.rangeUnderflow!==(e.rangeUnderflow??!1)||t.tooLong!==(e.tooLong??!1)||t.tooShort!==(e.tooShort??!1)||t.typeMismatch!==(e.typeMismatch??!1)}_resizeHandler(e){this._changeState(this._resizeUserHandler(this._state,e))}_handleResult(e){if(Array.isArray(e)&&2===e.length&&(e[1]instanceof Event||Array.isArray(e[1])&&e[1][0]instanceof Event)){this._changeState(e[0]);const t=e[1]instanceof Event?[e[1]]:e[1];for(const e of t)this._dispatchEvent(e)}else this._changeState(e)}_handleEvent(e,t){const n=t(this._state,e);this._handleResult(n)}_localEventHandler(e){this._debug&&console.log("nikonov-components: local event catch",e);const t=this._localEvents.get(e.type);(t.preventDefault||["submit"].includes(e.type)&&!1!==t.preventDefault)&&e.preventDefault(),!1!==t.stopPropagation&&e.stopImmediatePropagation(),this._handleEvent(e,t.handler)}_selfEventHandler(e){this._debug&&console.log("nikonov-components: self event catch",e);const t=this._selfEvents.get(e.type);(t.preventDefault||["submit"].includes(e.type)&&!1!==t.preventDefault)&&e.preventDefault(),!1!==t.stopPropagation&&e.stopImmediatePropagation(),this._handleEvent(e,t.handler)}_globalEventHandler(e){this._debug&&console.log("nikonov-components: global event catch",e);const t=this._globalEvents.get(e.type);t.preventDefault&&e.preventDefault(),!1!==t.stopPropagation&&e.stopImmediatePropagation(),this._handleEvent(e,t.handler)}_documentEventHandler(e){this._debug&&console.log("nikonov-components: document event catch",e);const t=this._documentEvents.get(e.type);t.preventDefault&&e.preventDefault(),!1!==t.stopPropagation&&e.stopImmediatePropagation(),this._handleEvent(e,t.handler)}_redraw(){const e=this._render(this._state);this._debug&&console.log("nikonov-components: redraw",this._root.cloneNode(!0),e.cloneNode(!0)),this._root.isEqualNode(e)||(this._root.nodeName!==e.nodeName?(this._root.replaceWith(e),this._root=e):z(this._root,e,{getNodeKey:e=>e instanceof G?e.dataset.id:e.id,onBeforeNodeAdded:e=>(this._debug&&console.log("nikonov-components: element added",e.cloneNode(!0)),e instanceof G&&e.classList.contains("stub")?e.reference.deref():e),onBeforeElUpdated:(e,t)=>(this._debug&&console.log("nikonov-components: element update",e.cloneNode(!0),t.cloneNode(!0)),!e.isEqualNode(t)&&(t instanceof G?t.dataset.id!==e.dataset.id&&(t.classList.contains("viewport")?t:(e.replaceWith(t.reference.deref()),!1)):e))}))}_dispatchEvent(e){this._viewport.isConnected?this._viewport.dispatchEvent(e):window.dispatchEvent(e)}_emitEvents(e){for(let[t,n]of this._emit)if(t(e,this._state))for(let t of n)this._dispatchEvent(t(this._state,e))}async _sendRequest(e){const t=("function"==typeof e?e:e.request)(this._state),n="retry"in e&&e.retry?e.retry:1;let r=null;for(let o=0;o<n;o++)try{r=await fetch(t);break}catch(t){if(o<n-1)continue;return void("error"in e&&e.error&&this._handleResult(e.error(this._state,t)))}if("response"in e&&e.response||"error"in e&&e.error){let n="";try{if(!r.ok)throw new Error(r.statusText);n=await r.text()}catch(t){return void("error"in e&&e.error&&this._handleResult(e.error(this._state,t)))}"response"in e&&e.response&&this._handleResult(e.response(this._state,r,n))}}_sendRequests(e){for(let[t,n]of this._http)t(e,this._state)&&n.forEach((e=>{this._sendRequest(e)}))}_changeState(e){if(this._state===e)return;const t=this._state;this._state=e,this._deferredRedraw||(setTimeout((()=>{this._redraw(),this._deferredRedraw=!1}),0),this._deferredRedraw=!0),this._emitEvents(t),this._sendRequests(t),this._maybeValidate(),this._debug&&console.log("nikonov-components: transition from",t,"to",this._state)}}const $=new FinalizationRegistry((e=>{e._debug&&console.log("nikonov-components gc:",e._id,JSON.parse(JSON.stringify(e._state))),e.destructor()}));class X{_core;constructor(e){this._core=new W(e),this._core._viewport._reactor=this,$.register(this,this._core)}}const J=e=>new X(e),K=e=>e._core._state,Y=e=>{if(!e._core._viewport.isConnected)return e._core._viewport;const t=document.createElement("reactor-viewport");return t.classList.add("stub"),t.dataset.id=e._core._id,t.reference=new WeakRef(e._core._viewport),t};var Z=C.L8,Q={d:(e,t)=>{for(var n in t)Q.o(t,n)&&!Q.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},ee={};Q.d(ee,{qM:()=>ie,E1:()=>oe,_u:()=>te,_w:()=>ne,Er:()=>re});var te={};Q.r(te),Q.d(te,{EMPTY_LIST:()=>ae,concat:()=>pe,cons:()=>se,count:()=>me,filter:()=>fe,find:()=>_e,fold:()=>de,isEmpty:()=>le,list:()=>ce,map:()=>ue,prepend:()=>he,reverse:()=>ve});var ne={};Q.r(ne),Q.d(ne,{apply:()=>ye,ifNotError:()=>be,ifNotFalse:()=>ge});var re={};Q.r(re);var oe={};Q.r(oe),Q.d(oe,{array:()=>we});var ie={};Q.r(ie),Q.d(ie,{local:()=>Ee});const ae=null,se=(e,t)=>({first:e,rest:t}),le=e=>ae===e,ce=(...e)=>e.reduce(((e,t)=>se(t,e)),ae),de=(e,t,n)=>le(e)?n:t(e.first,de(e.rest,t,n)),ue=(e,t)=>de(e,((e,n)=>se(t(e),n)),ae),fe=(e,t)=>de(e,((e,n)=>t(e)?se(e,n):n),ae),pe=(e,t)=>de(e,se,t),he=(e,t)=>pe(e,ce(t)),ve=e=>de(e,((e,t)=>he(t,e)),ae),_e=(e,t)=>!le(e)&&(t(e.first)?e.first:_e(e.rest,t)),me=e=>le(e)?0:me(e.rest)+1,ye=e=>(t,n)=>e(t)?t:n(t),ge=ye((e=>!1===e)),be=ye((e=>e instanceof Error)),we=(e,t)=>Array.apply(null,Array(e)).map(((e,n)=>t(n))),Ee=(e,t)=>t(e);var Ae=ee.qM;const Se=Ae.local,xe=e=>e.target.matches(".item, .item *"),je=(e,t)=>Se(e.parentElement.closest(".item"),(n=>null!==n&&t.contains(n)?je(n,t):e)),Oe=e=>je(e.target.closest(".item"),e.currentTarget),Ne=e=>parseInt(e.dataset.index),Ce=e=>e.target.matches(".item-action, .item-action *"),Te=e=>e.target.closest(".item-action"),ke=e=>parseInt(e.dataset.index),Ie=(e,t)=>e[t],Re=(e,t,n)=>e.with(t,n),Pe=(e,t)=>e.concat(t),Le=(e,t)=>Ie(e,Ne(Oe(t))),Ue=n(182),Me=Ae.local,ze={listStyleType:"none",padding:0},He=(e,t)=>y("span",{className:"item-action","data-index":t,children:e.button.cloneNode(!0)}),De=e=>y("div",{className:"item-actions",children:e.map(He)});function Fe(e,t){var n;const r=(null==t?void 0:t.displayActions)?t.displayActions(He):De,o=e=>y("div",{className:"item-content",children:[e.title,(null==t?void 0:t.actions)?r(t.actions):y("span",{})]}),i=(null==t?void 0:t.displayContent)?t.displayContent(o):o,a=(null==t?void 0:t.displayItem)?t.displayItem(i):(e,t)=>y("li",{className:"item","data-index":t,children:i(e)}),s=(null==t?void 0:t.display)?t.display(a):e=>y("ul",{className:"items",style:ze,children:e.map(a)});return Z(Ue({},{initialState:e,display:s,events:(null==t?void 0:t.onItemClick)?{click:{handler:(e,n)=>xe(n)?Ce(n)?((e,n)=>Me({actions:t.actions,itemIndex:Ne(Oe(n)),actionIndex:ke(Te(n))},(({actions:t,itemIndex:r,actionIndex:o})=>t[o].action(e,e[r],r,n))))(e,n):t.onItemClick(e,n):e,options:{capture:!1}}}:void 0},null!==(n=null==t?void 0:t.reactorArgs)&&void 0!==n?n:{}))}export{He as Action,ze as LIST_STYLES,r as helpers,Fe as make};