import*as t from"jsx-dom";import*as e from"@nikonov-alex/reactor";var r={182:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",c="[object Object]",u=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s[i]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s[a]=s["[object Map]"]=s["[object Number]"]=s[c]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var f,p,d,v="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,y="object"==typeof self&&self&&self.Object===Object&&self,h=v||y||Function("return this")(),_=e&&!e.nodeType&&e,b=_&&t&&!t.nodeType&&t,g=b&&b.exports===_,m=g&&v.process,j=function(){try{return b&&b.require&&b.require("util").types||m&&m.binding&&m.binding("util")}catch(t){}}(),O=j&&j.isTypedArray,x=Array.prototype,A=Function.prototype,w=Object.prototype,I=h["__core-js_shared__"],S=A.toString,z=w.hasOwnProperty,E=(f=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",k=w.toString,P=S.call(Object),T=RegExp("^"+S.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=g?h.Buffer:void 0,N=h.Symbol,F=h.Uint8Array,U=(M&&M.allocUnsafe,p=Object.getPrototypeOf,d=Object,function(t){return p(d(t))}),C=Object.create,$=w.propertyIsEnumerable,q=x.splice,B=N?N.toStringTag:void 0,D=function(){try{var t=ct(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),R=M?M.isBuffer:void 0,L=Math.max,G=Date.now,V=ct(h,"Map"),W=ct(Object,"create"),Y=function(){function t(){}return function(e){if(!gt(e))return{};if(C)return C(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function H(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function J(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function K(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Q(t){var e=this.__data__=new J(t);this.size=e.size}function X(t,e,r){(void 0!==r&&!pt(t[e],r)||void 0===r&&!(e in t))&&et(t,e,r)}function Z(t,e,r){var n=t[e];z.call(t,e)&&pt(n,r)&&(void 0!==r||e in t)||et(t,e,r)}function tt(t,e){for(var r=t.length;r--;)if(pt(t[r][0],e))return r;return-1}function et(t,e,r){"__proto__"==e&&D?D(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}H.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},H.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},H.prototype.get=function(t){var e=this.__data__;if(W){var r=e[t];return r===n?void 0:r}return z.call(e,t)?e[t]:void 0},H.prototype.has=function(t){var e=this.__data__;return W?void 0!==e[t]:z.call(e,t)},H.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=W&&void 0===e?n:e,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(t){var e=this.__data__,r=tt(e,t);return!(r<0||(r==e.length-1?e.pop():q.call(e,r,1),--this.size,0))},J.prototype.get=function(t){var e=this.__data__,r=tt(e,t);return r<0?void 0:e[r][1]},J.prototype.has=function(t){return tt(this.__data__,t)>-1},J.prototype.set=function(t,e){var r=this.__data__,n=tt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new H,map:new(V||J),string:new H}},K.prototype.delete=function(t){var e=at(this,t).delete(t);return this.size-=e?1:0,e},K.prototype.get=function(t){return at(this,t).get(t)},K.prototype.has=function(t){return at(this,t).has(t)},K.prototype.set=function(t,e){var r=at(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Q.prototype.clear=function(){this.__data__=new J,this.size=0},Q.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Q.prototype.get=function(t){return this.__data__.get(t)},Q.prototype.has=function(t){return this.__data__.has(t)},Q.prototype.set=function(t,e){var r=this.__data__;if(r instanceof J){var n=r.__data__;if(!V||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new K(n)}return r.set(t,e),this.size=r.size,this};function rt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":B&&B in Object(t)?function(t){var e=z.call(t,B),r=t[B];try{t[B]=void 0;var n=!0}catch(t){}var o=k.call(t);return n&&(e?t[B]=r:delete t[B]),o}(t):function(t){return k.call(t)}(t)}function nt(t){return mt(t)&&rt(t)==i}function ot(t,e,r,n,o){t!==e&&function(t,e,r){for(var n=-1,o=Object(t),i=r(t),a=i.length;a--;){var c=i[++n];if(!1===e(o[c],c,o))break}}(e,(function(i,a){if(o||(o=new Q),gt(i))!function(t,e,r,n,o,i,a){var u=st(t,r),l=st(e,r),s=a.get(l);if(s)X(t,r,s);else{var f,p,d,v,y,h=i?i(u,l,r+"",t,e,a):void 0,_=void 0===h;if(_){var b=vt(l),g=!b&&ht(l),m=!b&&!g&&jt(l);h=l,b||g||m?vt(u)?h=u:mt(y=u)&&yt(y)?h=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(u):g?(_=!1,h=function(t){return t.slice()}(l)):m?(_=!1,v=new(d=(f=l).buffer).constructor(d.byteLength),new F(v).set(new F(d)),p=v,h=new f.constructor(p,f.byteOffset,f.length)):h=[]:function(t){if(!mt(t)||rt(t)!=c)return!1;var e=U(t);if(null===e)return!0;var r=z.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&S.call(r)==P}(l)||dt(l)?(h=u,dt(u)?h=function(t){return function(t,e,r){var n=!r;r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],c=void 0;void 0===c&&(c=t[a]),n?et(r,a,c):Z(r,a,c)}return r}(t,Ot(t))}(u):gt(u)&&!_t(u)||(h=function(t){return"function"!=typeof t.constructor||lt(t)?{}:Y(U(t))}(l))):_=!1}_&&(a.set(l,h),o(h,l,n,i,a),a.delete(l)),X(t,r,h)}}(t,e,a,r,ot,n,o);else{var u=n?n(st(t,a),i,a+"",t,e,o):void 0;void 0===u&&(u=i),X(t,a,u)}}),Ot)}var it=D?function(t,e){return D(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:wt;function at(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function ct(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!gt(t)||function(t){return!!E&&E in t}(t))&&(_t(t)?T:u).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(r)?r:void 0}function ut(t,e){var r=typeof t;return!!(e=null==e?o:e)&&("number"==r||"symbol"!=r&&l.test(t))&&t>-1&&t%1==0&&t<e}function lt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||w)}function st(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ft=function(t){var e=0,r=0;return function(){var n=G(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(it);function pt(t,e){return t===e||t!=t&&e!=e}var dt=nt(function(){return arguments}())?nt:function(t){return mt(t)&&z.call(t,"callee")&&!$.call(t,"callee")},vt=Array.isArray;function yt(t){return null!=t&&bt(t.length)&&!_t(t)}var ht=R||function(){return!1};function _t(t){if(!gt(t))return!1;var e=rt(t);return e==a||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function bt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function gt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function mt(t){return null!=t&&"object"==typeof t}var jt=O?function(t){return function(e){return t(e)}}(O):function(t){return mt(t)&&bt(t.length)&&!!s[rt(t)]};function Ot(t){return yt(t)?function(t,e){var r=vt(t),n=!r&&dt(t),o=!r&&!n&&ht(t),i=!r&&!n&&!o&&jt(t),a=r||n||o||i,c=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=c.length;for(var l in t)!e&&!z.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ut(l,u))||c.push(l);return c}(t,!0):function(t){if(!gt(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=lt(t),r=[];for(var n in t)("constructor"!=n||!e&&z.call(t,n))&&r.push(n);return r}(t)}var xt,At=(xt=function(t,e,r){ot(t,e,r)},function(t,e){return ft(function(t,e,r){return e=L(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=L(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=n[o];return c[e]=r(a),function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,c)}}(t,e,wt),t+"")}((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=xt.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!gt(r))return!1;var n=typeof e;return!!("number"==n?yt(r)&&ut(e,r.length):"string"==n&&e in r)&&pt(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&xt(t,a,r)}return t})));function wt(t){return t}t.exports=At}},n={};function o(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={id:t,loaded:!1,exports:{}};return r[t](i,i.exports,o),i.loaded=!0,i.exports}o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var i={};o.r(i),o.d(i,{addItem:()=>J,getActionElement:()=>V,getActionIndex:()=>W,getEventItem:()=>K,getItem:()=>Y,getItemElement:()=>R,getItemIndex:()=>L,isActionClick:()=>G,isItemEvent:()=>B,updateItem:()=>H});var a={};o.r(a),o.d(a,{make:()=>Z});var c={};o.r(c),o.d(c,{make:()=>rt});var u={};o.r(u),o.d(u,{make:()=>ot});var l={};o.r(l),o.d(l,{MoveDown:()=>c,MoveUp:()=>a,Remove:()=>u});const s=(f={jsx:()=>t.jsx},p={},o.d(p,f),p);var f,p;const d=(t=>{var e={};return o.d(e,t),e})({make:()=>e.make});var v={d:(t,e)=>{for(var r in e)v.o(e,r)&&!v.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},y={};v.d(y,{qM:()=>m,E1:()=>g,_u:()=>h,_w:()=>_,Er:()=>b});var h={};v.r(h),v.d(h,{EMPTY_LIST:()=>j,concat:()=>z,cons:()=>O,count:()=>T,filter:()=>S,find:()=>P,fold:()=>w,isEmpty:()=>x,list:()=>A,map:()=>I,prepend:()=>E,reverse:()=>k});var _={};v.r(_),v.d(_,{apply:()=>M,ifNotError:()=>F,ifNotFalse:()=>N});var b={};v.r(b);var g={};v.r(g),v.d(g,{array:()=>U});var m={};v.r(m),v.d(m,{local:()=>C});const j=null,O=(t,e)=>({first:t,rest:e}),x=t=>j===t,A=(...t)=>t.reduce(((t,e)=>O(e,t)),j),w=(t,e,r)=>x(t)?r:e(t.first,w(t.rest,e,r)),I=(t,e)=>w(t,((t,r)=>O(e(t),r)),j),S=(t,e)=>w(t,((t,r)=>e(t)?O(t,r):r),j),z=(t,e)=>w(t,O,e),E=(t,e)=>z(t,A(e)),k=t=>w(t,((t,e)=>E(e,t)),j),P=(t,e)=>!x(t)&&(e(t.first)?t.first:P(t.rest,e)),T=t=>x(t)?0:T(t.rest)+1,M=t=>(e,r)=>t(e)?e:r(e),N=M((t=>!1===t)),F=M((t=>t instanceof Error)),U=(t,e)=>Array.apply(null,Array(t)).map(((t,r)=>e(r))),C=(t,e)=>e(t);var $=y.qM;const q=$.local,B=t=>t.target.matches(".item, .item *"),D=(t,e)=>q(t.parentElement.closest(".item"),(r=>null!==r&&e.contains(r)?D(r,e):t)),R=t=>D(t.target.closest(".item"),t.currentTarget),L=t=>parseInt(t.dataset.index),G=t=>t.target.matches(".item-action, .item-action *"),V=t=>t.target.closest(".item-action"),W=t=>parseInt(t.dataset.index),Y=(t,e)=>t[e],H=(t,e,r)=>t.with(e,r),J=(t,e)=>t.concat(e),K=(t,e)=>Y(t,L(R(e))),Q=$.local,X=(t,e,r)=>Q(((t,e)=>0!==e&&t.map(((r,n)=>n===e-1?t[e]:n===e?t[e-1]:r)))(t,r),(e=>e||(alert("Error!"),t))),Z=t=>({button:t,action:X}),tt=$.local,et=(t,e,r)=>tt(((t,e)=>!(e>=t.length-1)&&t.map(((r,n)=>n===e?t[e+1]:n===e+1?t[e]:r)))(t,r),(e=>e||(alert("Error!"),t))),rt=t=>({button:t,action:et}),nt=(t,e,r)=>confirm("Are you sure?")?((t,e)=>t.toSpliced(e,1))(t,r):t,ot=t=>({button:t,action:nt}),it=o(182),at=$.local,ct={listStyleType:"none",padding:0},ut=(t,e)=>(0,s.jsx)("span",{className:"item-action","data-index":e,children:t.button.cloneNode(!0)}),lt=t=>(0,s.jsx)("div",{className:"item-actions",children:t.map(ut)});function st(t,e){var r;const n=(null==e?void 0:e.displayActions)?e.displayActions(ut):lt,o=t=>(0,s.jsx)("div",{className:"item-content",children:[t.title,(null==e?void 0:e.actions)?n(e.actions):(0,s.jsx)("span",{})]}),i=(null==e?void 0:e.displayContent)?e.displayContent(o):o,a=(null==e?void 0:e.displayItem)?e.displayItem(i):(t,e)=>(0,s.jsx)("li",{className:"item","data-index":e,children:i(t)}),c=(null==e?void 0:e.display)?e.display(a):t=>(0,s.jsx)("ul",{className:"items",style:ct,children:t.map(a)});return d.make(it({},{initialState:t,display:c,events:(null==e?void 0:e.onItemClick)?{click:{handler:(t,r)=>B(r)?G(r)?((t,r)=>at({actions:e.actions,itemIndex:L(R(r)),actionIndex:W(V(r))},(({actions:e,itemIndex:n,actionIndex:o})=>e[o].action(t,t[n],n,r))))(t,r):e.onItemClick(t,r):t,options:{capture:!1}}}:void 0},null!==(r=null==e?void 0:e.reactorArgs)&&void 0!==r?r:{}))}export{ut as Action,l as Actions,ct as LIST_STYLES,i as helpers,st as make};